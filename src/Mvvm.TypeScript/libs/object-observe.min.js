/*!
 * Object.observe polyfill - v0.2.4
 * by Massimo Artizzu (MaxArt2501)
 * 
 * https://github.com/MaxArt2501/object-observe
 * 
 * Licensed under the MIT License
 * See LICENSE for details
 */
Object.observe||function(n,t,i){"use strict";var u,e,b=["add","update","delete","reconfigure","setPrototype","preventExtensions"],k=t.isArray||function(n){return function(t){return n.call(t)==="[object Array]"}}(n.prototype.toString),f=t.prototype.indexOf?t.indexOf||function(n,i,r){return t.prototype.indexOf.call(n,i,r)}:function(n,t,i){for(var r=i||0;r<n.length;r++)if(n[r]===t)return r;return-1},s=typeof i.Map=="undefined"||!Map.prototype.forEach?function(){var n=[],t=[];return{size:0,has:function(t){return f(n,t)>-1},get:function(i){return t[f(n,i)]},set:function(i,r){var u=f(n,i);u===-1?(n.push(i),t.push(r),this.size++):t[u]=r},"delete":function(i){var r=f(n,i);r>-1&&(n.splice(r,1),t.splice(r,1),this.size--)},forEach:function(i){for(var r=0;r<n.length;r++)i.call(arguments[1],t[r],n[r],this)}}}:function(){return new Map},v=n.getOwnPropertyNames?function(){var i=n.getOwnPropertyNames,t;try{arguments.callee}catch(r){t=(i(f).join(" ")+" ").replace(/prototype |length |name /g,"").slice(0,-1).split(" ");t.length&&(i=function(i){var r=n.getOwnPropertyNames(i),u,e;if(typeof i=="function")for(u=0;u<t.length;)(e=f(r,t[u++]))>-1&&r.splice(e,1);return r})}return i}():function(t){var r=[],i,u;if("hasOwnProperty"in t)for(i in t)t.hasOwnProperty(i)&&r.push(i);else{u=n.hasOwnProperty;for(i in t)u.call(t,i)&&r.push(i)}return k(t)&&r.push("length"),r},h=n.getPrototypeOf,o=n.defineProperties&&n.getOwnPropertyDescriptor,l=i.requestAnimationFrame||i.webkitRequestAnimationFrame||function(){var n=+new Date,t=n;return function(i){return setTimeout(function(){i((t=+new Date)-n)},17)}}(),d=function(n,t,i){var r=u.get(n);r?w(n,r,t,i):(r=g(n),w(n,r,t,i),u.size===1&&l(y))},g=function(t,i){var f=v(t),e=[],c,r=0,i={handlers:s(),frozen:n.isFrozen?n.isFrozen(t):!1,extensible:n.isExtensible?n.isExtensible(t):!0,proto:h&&h(t),properties:f,values:e,notifier:p(t,i)};if(o)for(c=i.descriptors=[];r<f.length;)c[r]=o(t,f[r]),e[r]=t[f[r++]];else while(r<f.length)e[r]=t[f[r++]];return u.set(t,i),i},c=function(){var t=o?function(n,t,i,u,f){var h=t.properties[i],o=n[h],e=t.values[i],s=t.descriptors[i];"value"in f&&(e===o?e===0&&1/e!=1/o:e===e||o===o)&&(r(n,t,{name:h,type:"update",object:n,oldValue:e},u),t.values[i]=o);s.configurable&&(!f.configurable||f.writable!==s.writable||f.enumerable!==s.enumerable||f.get!==s.get||f.set!==s.set)&&(r(n,t,{name:h,type:"reconfigure",object:n,oldValue:e},u),t.descriptors[i]=f)}:function(n,t,i,u){var o=t.properties[i],e=n[o],f=t.values[i];(f===e?f===0&&1/f!=1/e:f===f||e===e)&&(r(n,t,{name:o,type:"update",object:n,oldValue:f},u),t.values[i]=e)},i=o?function(n,i,u,f,e){for(var s=i.length,h;u&&s--;)i[s]!==null&&(h=o(n,i[s]),u--,h?t(n,f,s,e,h):(r(n,f,{name:i[s],type:"delete",object:n,oldValue:f.values[s]},e),f.properties.splice(s,1),f.values.splice(s,1),f.descriptors.splice(s,1)))}:function(n,t,i,u,f){for(var e=t.length;i&&e--;)t[e]!==null&&(r(n,u,{name:t[e],type:"delete",object:n,oldValue:u.values[e]},f),u.properties.splice(e,1),u.values.splice(e,1),i--)};return function(u,e,s){if(u.handlers.size&&!u.frozen){var l,p,w,d=u.values,g=u.descriptors,a=0,y,c,nt,b,k;if(u.extensible)if(l=u.properties.slice(),p=l.length,w=v(e),g){while(a<w.length)c=w[a++],y=f(l,c),k=o(e,c),y===-1?(r(e,u,{name:c,type:"add",object:e},s),u.properties.push(c),d.push(e[c]),g.push(k)):(l[y]=null,p--,t(e,u,y,s,k));i(e,l,p,u,s);n.isExtensible(e)||(u.extensible=!1,r(e,u,{type:"preventExtensions",object:e},s),u.frozen=n.isFrozen(e))}else{while(a<w.length)c=w[a++],y=f(l,c),nt=e[c],y===-1?(r(e,u,{name:c,type:"add",object:e},s),u.properties.push(c),d.push(nt)):(l[y]=null,p--,t(e,u,y,s));i(e,l,p,u,s)}else if(!u.frozen){for(;a<l.length;a++)c=l[a],t(e,u,a,s,o(e,c));n.isFrozen(e)&&(u.frozen=!0)}h&&(b=h(e),b!==u.proto&&(r(e,u,{type:"setPrototype",name:"__proto__",object:e,oldValue:u.proto}),u.proto=b))}}}(),y=function(){u.size&&(u.forEach(c),e.forEach(a),l(y))},a=function(n,t){n.changeRecords.length&&(t(n.changeRecords),n.changeRecords=[])},p=function(n,t){return arguments.length<2&&(t=u.get(n)),t&&t.notifier||{notify:function(t){var f,e,i;if(t.type,f=u.get(n),f){e={object:n};for(i in t)i!=="object"&&(e[i]=t[i]);r(n,f,e)}},performChange:function(t,i){if(typeof t!="string")throw new TypeError("Invalid non-string changeType");if(typeof i!="function")throw new TypeError("Cannot perform non-function");var e=u.get(n),f,s,o=i.call(arguments[2]);if(e&&c(e,n,t),e&&o&&typeof o=="object"){s={object:n,type:t};for(f in o)f!=="object"&&f!=="type"&&(s[f]=o[f]);r(n,e,s)}}}},w=function(n,t,i,r){var u=e.get(i);u||e.set(i,u={observed:s(),changeRecords:[]});u.observed.set(n,{acceptList:r.slice(),data:t});t.handlers.set(i,u)},r=function(n,t,i,r){t.handlers.forEach(function(t){var u=t.observed.get(n).acceptList;(typeof r!="string"||f(u,r)===-1)&&f(u,i.type)>-1&&t.changeRecords.push(i)})};u=s();e=s();n.observe=function(t,i,r){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("Object.observe cannot observe non-object");if(typeof i!="function")throw new TypeError("Object.observe cannot deliver to non-function");if(n.isFrozen&&n.isFrozen(i))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(typeof r=="undefined")r=b;else if(!r||typeof r!="object")throw new TypeError("Third argument to Object.observe must be an array of strings.");return d(t,i,r),t};n.unobserve=function(n,t){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Object.unobserve cannot unobserve non-object");if(typeof t!="function")throw new TypeError("Object.unobserve cannot deliver to non-function");var i=e.get(t),r;return i&&(r=i.observed.get(n))&&(i.observed.forEach(function(n,t){c(n.data,t)}),l(function(){a(i,t)}),i.observed.size===1&&i.observed.has(n)?e["delete"](t):i.observed["delete"](n),r.data.handlers.size===1?u["delete"](n):r.data.handlers["delete"](t)),n};n.getNotifier=function(t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Object.getNotifier cannot getNotifier non-object");return n.isFrozen&&n.isFrozen(t)?null:p(t)};n.deliverChangeRecords=function(n){if(typeof n!="function")throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var t=e.get(n);t&&(t.observed.forEach(function(n,t){c(n.data,t)}),a(t,n))}}(Object,Array,this);
//# sourceMappingURL=object-observe.min.js.map
